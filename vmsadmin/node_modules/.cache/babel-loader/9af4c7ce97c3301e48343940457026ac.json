{"ast":null,"code":"var _jsxFileName = \"/home/iassureit-23/iAssureIT/Projects/vms/vmsadmin/src/coreAdmin/NotificationManagement/emails/EmailTemplateRow.jsx\";\nimport React, { Component } from 'react';\nimport EditNotificationModal from '../EditNotificationModal.jsx';\nimport axios from 'axios';\nimport swal from 'sweetalert';\naxios.defaults.baseURL = 'http://qatprmcorporate.iassureit.com/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass EmailTemplateRow extends Component {\n  constructor(props) {\n    super(props);\n\n    this.emailGetData = id => {\n      this.props.getEmailData(id);\n    };\n\n    this.state = {\n      templateType: '',\n      templateName: '',\n      subject: '',\n      content: ''\n    };\n    this.editEmailNotify = this.editEmailNotify.bind(this);\n    this.emailGetData = this.emailGetData.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.sendProps) {// this.call();\n    }\n  }\n\n  deleteEmailTemplate(event) {\n    event.preventDefault();\n    var id = event.target.id;\n    console.log(\"id\", id);\n    const token = '';\n    const url = '/api/masternotifications/' + id;\n    const headers = {\n      \"Authorization\": token,\n      \"Content-Type\": \"application/json\"\n    }; // axios.delete( url, headers )\n    // .then((response)=> {\n    //    \tconsole.log('delete response',response);\n    // }).catch((error)=> {\n    //     // handle error\n    //     console.log(error);\n    // });\n\n    axios({\n      method: \"DELETE\",\n      url: url,\n      headers: headers,\n      timeout: 3000,\n      data: null\n    }).then(response => {\n      console.log('delete response', response);\n      swal(\"Template deleted successfully\", \"\", \"success\");\n      console.log(\"here response message\", response.data.message);\n\n      if (response.data.message == \"Master notification deleted\") {\n        this.props.deleteData(\"Email\", id);\n      }\n    }).catch(error => {\n      // handle error\n      console.log(error);\n    });\n  }\n\n  editEmailNotify(event) {// var id = this.props.emailtemplateValues._id;\n    // var idEmail = $(event.target).attr('id');\n    // var updateEmailNotify = NotificationTemplate.findOne({'_id':id});\n    // this.setState({\n    // \t'templateType' \t\t: updateEmailNotify.templateType,\n    // \t'templateName'\t\t: updateEmailNotify.templateName,\n    // \t'subject'\t\t\t: updateEmailNotify.subject,\n    // \t'content'\t\t\t: updateEmailNotify.content,\n    // });\n  }\n\n  render(evt) {\n    // console.log('this.props.emailtemplateValues',this.props.emailtemplateValues, this.props.emailtemplateValues._id);\n    var text = this.props.emailtemplateValues.content ? this.props.emailtemplateValues.content : ''; // console.log(\"textes=\",text);\n\n    var regex = new RegExp(/(<([^>]+)>)/ig);\n    text = text.replace(regex, '');\n\n    if (this.props.emailtemplateValues && this.props.emailtemplateValues.content) {\n      return React.createElement(\"div\", {\n        className: \"contentBox col-lg-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"pull-right actionBtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"dropdown \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"dropbtn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-ellipsis-h\",\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"dropdown-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"deleteNotif\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#editNotifyModal-\" + this.props.emailtemplateValues._id,\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-pencil editPencil\",\n        \"aria-hidden\": \"true\",\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"\",\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\xA0\\xA0\\xA0 Edit\"), console.log(\"this.props.emailtemplateValues._id\", this.props.emailtemplateValues._id)), React.createElement(\"div\", {\n        className: \"deleteNotif\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#\".concat(this.props.emailtemplateValues._id, \"-rm\"),\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"\",\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-trash deleteEM\",\n        \"aria-hidden\": \"true\",\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        id: this.props.emailtemplateValues._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"\\xA0\\xA0\\xA0 Delete\"), console.log(\"this.props.emailtemplateValues._id for delete\", this.props.emailtemplateValues._id)))))), React.createElement(EditNotificationModal, {\n        emailNot: this.props.emailtemplateValues._id,\n        emailGetData: this.emailGetData.bind(this),\n        data: this.props.emailtemplateValues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        id: \"\".concat(this.props.emailtemplateValues._id, \"-rm\"),\n        role: \"dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \" modal-dialog adminModal adminModal-dialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content adminModal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"CreateTempModal col-lg-11 col-md-11 col-sm-11 col-xs-11\",\n        id: \"exampleModalLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-1 NOpadding-left NOpadding-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"adminCloseButton\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"\\xD7\")))), React.createElement(\"div\", {\n        className: \"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"blackFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 examDeleteFont\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Are you sure you want to delete this template?\")), React.createElement(\"div\", {\n        className: \"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"CANCEL\")), React.createElement(\"div\", {\n        className: \"col-lg-6 col-md-6 col-sm-6 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        id: this.props.emailtemplateValues._id,\n        onClick: this.deleteEmailTemplate.bind(this),\n        type: \"button\",\n        className: \"btn examDelete-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"DELETE\")))))), React.createElement(\"div\", {\n        className: \"inputrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-10 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Subject:\"), React.createElement(\"span\", {\n        className: \"subject noBorderBox col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, this.props.emailtemplateValues.subject)))), React.createElement(\"div\", {\n        className: \"inputrow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Message:\"), React.createElement(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: text\n        },\n        className: \"textAreaBox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      })))));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nexport default EmailTemplateRow;","map":{"version":3,"sources":["/home/iassureit-23/iAssureIT/Projects/vms/vmsadmin/src/coreAdmin/NotificationManagement/emails/EmailTemplateRow.jsx"],"names":["React","Component","EditNotificationModal","axios","swal","defaults","baseURL","headers","post","EmailTemplateRow","constructor","props","emailGetData","id","getEmailData","state","templateType","templateName","subject","content","editEmailNotify","bind","componentWillReceiveProps","nextProps","sendProps","deleteEmailTemplate","event","preventDefault","target","console","log","token","url","method","timeout","data","then","response","message","deleteData","catch","error","render","evt","text","emailtemplateValues","regex","RegExp","replace","_id","__html"],"mappings":"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","sourcesContent":["import React, { Component }    from 'react';\nimport EditNotificationModal   from '../EditNotificationModal.jsx';\nimport axios \t\t\t\t   from 'axios';\nimport swal                     \tfrom 'sweetalert';\n \naxios.defaults.baseURL = 'http://qatprmcorporate.iassureit.com/';\naxios.defaults.headers.post['Content-Type'] = 'application/json';\n\nclass EmailTemplateRow extends Component{\n\n\tconstructor(props) {\n      super(props);   \n      \n        this.state = {\n\t    templateType    : '',\n\t    templateName    : '',\n\t    subject         : '',\n\t    content         : '',\n\t   \n\t  };\n\n      this.editEmailNotify = this.editEmailNotify.bind(this);\n      this.emailGetData    = this.emailGetData.bind(this);\n    }\n    componentWillReceiveProps(nextProps){\n    \tif(nextProps.sendProps){\n    \t\t// this.call();\n    \t}\n    }\n\tdeleteEmailTemplate(event){\n\t\tevent.preventDefault();\n\t\tvar id = event.target.id;\n\t\tconsole.log(\"id\",id);\n\t\tconst token = '';\n\t\tconst url = '/api/masternotifications/'+id ;\n\t\tconst headers = {\n\t\t\t    \"Authorization\" : token,\n\t\t\t    \"Content-Type\" \t: \"application/json\",\n\t\t\t};\n\n\t\t// axios.delete( url, headers )\n\t\t// .then((response)=> {\n\t //    \tconsole.log('delete response',response);\n\t\t// }).catch((error)=> {\n\t\t//     // handle error\n\t\t//     console.log(error);\n\t\t// });\n\n\t\taxios({\n\t\t\tmethod: \"DELETE\",\n\t\t\turl : url,\n\t\t\theaders: headers,\n\t\t\ttimeout: 3000,\n\t\t\tdata: null,\n\t\t})\n\t\t.then((response)=> {\n\t    \tconsole.log('delete response',response);\n\t    \tswal(\"Template deleted successfully\",\"\", \"success\"); \n\n\t    \tconsole.log(\"here response message\",response.data.message);\n\t    \tif(response.data.message==\"Master notification deleted\")\n\t    \t{\n\t    \tthis.props.deleteData(\"Email\",id);\n    \t\t}\n\n\t\t}).catch((error)=> {\n\t\t    // handle error\n\t\t    console.log(error);\n\t\t});\n\n\n\t}\n\teditEmailNotify(event){\n\t\t// var id = this.props.emailtemplateValues._id;\n\t\t// var idEmail = $(event.target).attr('id');\n\t\t// var updateEmailNotify = NotificationTemplate.findOne({'_id':id});\n\t\t// this.setState({\n\t\t// \t'templateType' \t\t: updateEmailNotify.templateType,\n\t\t// \t'templateName'\t\t: updateEmailNotify.templateName,\n\t\t// \t'subject'\t\t\t: updateEmailNotify.subject,\n\t\t// \t'content'\t\t\t: updateEmailNotify.content,\n\t\t// });\n\n\t}\n\temailGetData =(id)=>{\n    this.props.getEmailData(id);\n\t}\n\trender(evt) {\n\t\t\t// console.log('this.props.emailtemplateValues',this.props.emailtemplateValues, this.props.emailtemplateValues._id);\n\t\t\tvar text = this.props.emailtemplateValues.content ? this.props.emailtemplateValues.content : ''; \n\t\t\t// console.log(\"textes=\",text);\n\t\t\tvar regex = new RegExp(/(<([^>]+)>)/ig);\n\t\t\ttext = text.replace(regex,'');\n\t\t\tif(this.props.emailtemplateValues && this.props.emailtemplateValues.content){\n\n\t\t        return (\n\t\t    \t<div className=\"contentBox col-lg-12\">\n\t\t      \t\t<div className=\"pull-right actionBtn\">\n\t\t      \t\t\t<div className=\"dropdown \">\n\t\t\t\t\t\t  \t<button className=\"dropbtn\"><i className=\"fa fa-ellipsis-h\" aria-hidden=\"true\"></i></button>\n\t\t\t\t\t\t  \t<div className=\"dropdown-content\" >\n\t\t\t\t\t\t\t    <div  className=\"deleteNotif\"  data-toggle=\"modal\" data-target={\"#editNotifyModal-\"+this.props.emailtemplateValues._id} id={this.props.emailtemplateValues._id}>\n\t\t\t\t\t\t\t    \t<i className=\"fa fa-pencil editPencil\" aria-hidden=\"true\"  id={this.props.emailtemplateValues._id}></i> \n\t\t\t\t\t\t\t    \t<span className=\"\"  id={this.props.emailtemplateValues._id}>&nbsp;&nbsp;&nbsp; Edit</span>\n\t\t\t\t\t\t\t    \t{console.log(\"this.props.emailtemplateValues._id\",this.props.emailtemplateValues._id)}\n\t\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t\t<div className=\"deleteNotif\" data-toggle=\"modal\" data-target={`#${this.props.emailtemplateValues._id}-rm`}  id={this.props.emailtemplateValues._id}>\n\t\t\t\t\t\t\t\t\t<span className=\"\" id={this.props.emailtemplateValues._id}>\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-trash deleteEM\" aria-hidden=\"true\" id={this.props.emailtemplateValues._id} ></i>\n\t\t\t\t\t\t\t\t\t\t<span id={this.props.emailtemplateValues._id}>&nbsp;&nbsp;&nbsp; Delete</span>\n\t\t\t\t\t\t\t\t\t\t{console.log(\"this.props.emailtemplateValues._id for delete\",this.props.emailtemplateValues._id)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<EditNotificationModal  emailNot={this.props.emailtemplateValues._id} emailGetData={this.emailGetData.bind(this)} data={this.props.emailtemplateValues}/>\n\n\t\t\t\t\t<div className=\"modal fade col-lg-12 col-md-12 col-sm-12 col-xs-12\" id={`${this.props.emailtemplateValues._id}-rm`}  role=\"dialog\">\n\t                    <div className=\" modal-dialog adminModal adminModal-dialog\">\n\t                         <div className=\"modal-content adminModal-content col-lg-12 col-md-12 col-sm-12 col-xs-12 NOpadding\">\n\t                                <div className=\"modal-header adminModal-header col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t        \t\t<h4 className=\"CreateTempModal col-lg-11 col-md-11 col-sm-11 col-xs-11\" id=\"exampleModalLabel\"></h4>\n\t\t\t\t\t\t        \t\t<div className=\"adminCloseCircleDiv pull-right  col-lg-1 col-md-1 col-sm-1 col-xs-1 NOpadding-left NOpadding-right\">\n\t\t\t\t\t\t\t\t\t        <button type=\"button\" className=\"adminCloseButton\" data-dismiss=\"modal\" aria-label=\"Close\">\n\t\t\t\t\t\t\t\t\t          <span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t\t\t\t        </button>\n\t\t\t\t\t\t\t\t        </div>\n\t\t\t\t\t\t      \t\t</div>\n\t                              <div className=\"modal-body adminModal-body col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\n\t                                 <h4 className=\"blackFont textAlignCenter col-lg-12 col-md-12 col-sm-12 col-xs-12 examDeleteFont\">Are you sure you want to delete this template?</h4>\n\t                              </div>\n\t                              \n\t                              <div className=\"modal-footer adminModal-footer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t                                   <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n\t                                        <button type=\"button\" className=\"btn adminCancel-btn col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-8 col-sm-offset-1 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">CANCEL</button>\n\t                                   </div>\n\t                                   <div className=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\n\t                                        <button id={this.props.emailtemplateValues._id} onClick={this.deleteEmailTemplate.bind(this)} type=\"button\" className=\"btn examDelete-btn col-lg-4 col-lg-offset-7 col-md-4 col-md-offset-7 col-sm-8 col-sm-offset-3 col-xs-10 col-xs-offset-1\" data-dismiss=\"modal\">DELETE</button>\n\t                                   </div>\n\t                              </div>\n\t                         </div>\n\t                    </div>\n\t               </div>\n\n\t\t\t\t\t\n\n\t\t\t\t\t<div className=\"inputrow\">\n\t\t\t\t\t\t<div className=\"col-lg-10 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Subject:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t        <span className=\"subject noBorderBox col-lg-12 col-md-12 col-sm-12 col-xs-12\">{this.props.emailtemplateValues.subject}</span>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"inputrow\"> \n\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t <label className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 label-category\">Message:</label>     \t\t\t\t\t\t\n\t\t\t\t\t\t\t <p  dangerouslySetInnerHTML={{ __html:text}} className=\"textAreaBox\"></p>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t    );\n\t\t\t}else{\n\t\t\t\treturn(<div></div>);\n\t\t\t}\n\n\t} \n\n}\nexport default EmailTemplateRow;"]},"metadata":{},"sourceType":"module"}