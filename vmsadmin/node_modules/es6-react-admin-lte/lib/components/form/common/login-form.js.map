{"version":3,"sources":["../../../../src/js/components/form/common/login-form.jsx"],"names":["LoginForm","props","state","username","password","rememberMe","fillForm","bind","submitForm","e","preventDefault","stopPropagation","onSubmit","currentTarget","id","setState","value","checked","error","type","message","theme","errorTheme","logoLink","onLogoClick","clientLogo","clientName","width","height","position","headline","subheadline","userPlaceholder","passPlaceholder","remembers","rememberMeText","submitTheme","submitText","forgets","forgetLink","onForget","registers","registerLink","onRegister","children","loading","backgroundColor","top","right","bottom","left","display","alignItems","justifyContent","React","Component","propTypes","PropTypes","bool","string","oneOfType","object","element","func","defaultProps"],"mappings":"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","file":"login-form.js","sourcesContent":["import React from 'react';\nimport LoadStatus from '../../utilities/load-status.jsx';\nimport ErrorMessage from '../../utilities/error-message.jsx';\nimport PropTypes from 'prop-types';\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      rememberMe: false\n    };\n    this.fillForm = this.fillForm.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onSubmit(this.state.username, this.state.password, this.state.rememberMe);\n  }\n\n  fillForm(e) {\n    switch (e.currentTarget.id) {\n      case ('username'):\n        this.setState({ username: e.currentTarget.value });\n        break;\n      case ('password'):\n        this.setState({ password: e.currentTarget.value });\n        break;\n      case ('remember-me'):\n        this.setState({ rememberMe: e.currentTarget.checked });\n        break;\n      default: break;\n    }\n  }\n\n  render() {\n    let error = '';\n    if (this.props.error && this.props.error.type) {\n      error = this.props.error;\n    } else if (this.props.error && this.props.error.message) {\n      error = (\n        <ErrorMessage\n          error={this.props.error}\n          theme={this.props.error.theme || this.props.errorTheme}\n        />\n      );\n    }\n    \n    return (\n      <div className=\"login-box\">\n        <div className=\"login-logo\">\n          <a\n            href={this.props.logoLink}\n            onClick={this.props.onLogoClick ? e => {\n              e.preventDefault();\n              e.stopPropagation();\n              this.props.onLogoClick();\n            } : () => {}}\n          >\n            {this.props.clientLogo ? <img src={this.props.clientLogo} alt={typeof this.props.clientName === 'string' ? this.props.clientName : 'Brand Logo'} style={{ width: '60%', height: 'auto' }} /> : this.props.clientName}\n          </a>\n        </div>\n        <div className=\"login-box-body\" style={{ position: 'relative' }}>\n          <div className=\"login-box-body-head\">\n            {error}\n            <p className=\"login-box-msg\">\n              {this.props.headline}\n              {this.props.subheadline ? (<small><br />{this.props.subheadline}</small>) : ''}\n            </p>\n          </div>\n          <form noValidate onSubmit={this.submitForm}>\n            <div className=\"form-group has-feedback\">\n              <input\n                id=\"username\"\n                type=\"text\"\n                className=\"form-control\"\n                placeholder={this.props.userPlaceholder}\n                onChange={this.fillForm}\n              />\n              <span className=\"glyphicon glyphicon-envelope form-control-feedback\" />\n            </div>\n            <div className=\"form-group has-feedback\">\n              <input\n                id=\"password\"\n                type=\"password\"\n                className=\"form-control\"\n                placeholder={this.props.passPlaceholder}\n                onChange={this.fillForm}\n              />\n              <span className=\"glyphicon glyphicon-lock form-control-feedback\" />\n            </div>\n            <div className=\"row\">\n              {this.props.remembers ? (\n                <div className=\"col-xs-8\">\n                  <div className=\"checkbox icheck\">\n                    <label htmlFor=\"remember-me\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"remember-me\"\n                        defaultChecked={false}\n                        onChange={this.fillForm}\n                      />\n                      {this.props.rememberMeText}\n                    </label>\n                  </div>\n                </div>\n              ) : ''}\n              <div className=\"col-xs-offset-8 col-xs-4\">\n                <button\n                  type=\"submit\"\n                  className={`btn btn-block btn-flat ${this.props.submitTheme}`}\n                  onClick={this.submitForm}\n                  id=\"login-btn\"\n                >\n                  {this.props.submitText}\n                </button>\n              </div>\n            </div>\n          </form>\n          {this.props.forgets ? (\n            <a\n              href={this.props.forgetLink}\n              onClick={this.props.onForget ? e => {\n                e.preventDefault();\n                e.stopPropagation();\n                this.props.onForget();\n              } : () => {}}\n            >\n              I forgot my password\n            </a>\n          ) : ''}\n          {this.props.forgets && this.props.registers ? <br /> : ''}\n          {this.props.registers ? (\n            <a\n              href={this.props.registerLink}\n              className=\"text-center\"\n              onClick={this.props.onRegister ? e => {\n                e.preventDefault();\n                e.stopPropagation();\n                this.props.onRegister();\n              } : () => {}}\n            >\n              Register an account\n            </a>\n          ) : ''}\n          <div className=\"row\">\n            {this.props.children}\n          </div>\n          {!this.props.loading ? '' : (\n            <div\n              className=\"text-center align-middle overlay over-load\"\n              style={{\n                position: 'absolute',\n                backgroundColor: 'rgba(236, 240, 245, 0.25)',\n                top: '0', right: '0', bottom: '0', left: '0',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center'\n              }}\n            >\n              <LoadStatus size=\"5em\" color=\"rgba(51, 51, 51, 0.3)\" spins />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nLoginForm.propTypes = {\n  loading: PropTypes.bool,\n  errorTheme: PropTypes.string,\n  error: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.element\n  ]),\n  clientLogo: PropTypes.string,\n  onLogoClick: PropTypes.func,\n  logoLink: PropTypes.string,\n  headline: PropTypes.string,\n  subheadline: PropTypes.string,\n  remembers: PropTypes.bool,\n  rememberMeText: PropTypes.string,\n  submitText: PropTypes.string,\n  submitTheme: PropTypes.string,\n  onSubmit: PropTypes.func,\n  userPlaceholder: PropTypes.string,\n  passPlaceholder: PropTypes.string,\n  forgets: PropTypes.bool,\n  registers: PropTypes.bool,\n  forgetLink: PropTypes.string,\n  onForget: PropTypes.func,\n  registerLink: PropTypes.string,\n  onRegister: PropTypes.func\n};\n\nLoginForm.defaultProps = {\n  loading: false,\n  errorTheme: 'alert-danger',\n  clientName: <span><b>Admin</b>LTE</span>,\n  clientLogo: '',\n  headline: 'Sign in to start your session',\n  subheadline: '',\n  remembers: false,\n  rememberMeText: 'Remember Me',\n  submitText: 'Sign In',\n  submitTheme: 'btn-primary',\n  userPlaceholder: 'Email',\n  passPlaceholder: 'Password',\n  forgets: false,\n  registers: false,\n  onSubmit: () => {}\n};\n\nexport default LoginForm;\n"]}